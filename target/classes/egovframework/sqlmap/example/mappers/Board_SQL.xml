<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.example.dashboard.service.impl.BoardMapper">

	<!-- 약국 목록 조회  -->
	<select id="boardlist" resultType="egovframework.example.dashboard.service.BoardVO">
		SELECT 
		        pharm_no
		      , sido_name
		      , pharm_name
		      , pharm_open
		  FROM tb_pharm
		  	<where>
		  		<if test="(pname != null) and (!pname.equals(''))">
		  			and pharm_name Like CONCAT('%', #{pname}, '%')
		  		</if>
		  		<if test="searchptypecombo != null and searchptypecombo != ''">
			    	and pharm_no = #{searchptypecombo}
		       </if>
		  	</where>
		ORDER BY pharm_no
		LIMIT #{pageSize}
		OFFSET #{pageindex}
	</select>
	
	<!-- 약국 목록 카운트 조회 -->
	<select id="countboardlist" resultType="int">
		SELECT COUNT(*)
		  FROM tb_pharm
		  	<where>
		  		<if test="(pname != null) and (!pname.equals(''))">
		  			and pharm_name Like CONCAT('%', #{pname}, '%')
		  		</if>
		  	</where>
	</select>
	
	<!-- 약국 한건 조회 -->
	<!-- 
	<select id="boardselectone" resultType="egovframework.example.dashboard.service.BoardVO">
		SELECT
		        pharm_no
		      , sido_name
		      , pharm_name
		      , pharm_open
		  FROM tb_pharm
		 WHERE pharm_no = #{pharm_no}
	</select>
	 -->


</mapper>